<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HÃ¡bitos Saludables</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(135deg, #c1dff0, #f0f7fa);
      color: #333;
      margin: 0;
      padding: 0;
      text-align: center;
      line-height: 1.6;
    }
    .container {
      background-color: white;
      width: 60%;
      margin: 50px auto;
      padding: 20px 40px;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    h1, h2, h3 {
      color: #176b87;
      margin-bottom: 15px;
    }
    ul {
      list-style-type: square;
      text-align: left;
      display: inline-block;
      font-size: 18px;
      margin-bottom: 25px;
    }
    img {
      border-radius: 12px;
      margin: 20px 0;
      max-width: 100%;
      height: auto;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    table {
      border-collapse: collapse;
      width: 90%;
      margin: 20px auto 40px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      border-radius: 10px;
      overflow: hidden;
    }
    th, td {
      border: 1px solid #a9cbd1;
      padding: 12px 15px;
      text-align: center;
    }
    th {
      background-color: #b3d6e8;
      color: #06425c;
    }
    tbody tr:nth-child(even) {
      background-color: #f0f8ff;
    }
    footer {
      margin-top: 40px;
      font-size: 14px;
      color: #666;
    }
    iframe {
      margin: 20px auto 40px;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      max-width: 90%;
      height: 315px;
      display: block;
    }
    #chatbot-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #176b87;
      color: white;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 30px;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      z-index: 1000;
    }
    #chatbot {
      position: fixed;
      bottom: 90px;
      right: 20px;
      width: 320px;
      max-height: 400px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      display: none;
      flex-direction: column;
      overflow: hidden;
      z-index: 1000;
    }
    #chatbot-header {
      background-color: #176b87;
      color: white;
      padding: 10px;
      font-weight: bold;
      font-size: 18px;
      text-align: center;
    }
    #chatbot-messages {
      flex-grow: 1;
      padding: 10px;
      overflow-y: auto;
      font-size: 14px;
      text-align: left;
      height: 200px;
    }
    #chatbot-input-container {
      display: flex;
    }
    #chatbot-input {
      flex: 1;
      padding: 8px;
      border: none;
      border-top: 1px solid #ccc;
    }
    #chatbot-send {
      padding: 8px;
      background-color: #176b87;
      color: white;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div class="container">
  <h1>Hoja de PresentaciÃ³n</h1>
  <ul>
    <li><strong>Elaborado por:</strong> Danna Karen Bravo SÃ¡nchez y Fanny Borbonio Cano</li>
    <li><strong>CapacitaciÃ³n:</strong> InformÃ¡tica</li>
    <li><strong>MÃ³dulo:</strong> ProgramaciÃ³n Web</li>
    <li><strong>Grupo:</strong> 401</li>
    <li><strong>Plantel:</strong> Cobaev 46</li>
  </ul>
</div>

<main>
  <!-- AquÃ­ puedes insertar tus tablas, imÃ¡genes, descripciones y secciones como ya tenÃ­as antes -->
</main>

<!-- Chatbot -->
<button id="chatbot-toggle" aria-label="Abrir chat">ðŸ’¬</button>
<div id="chatbot" role="region" aria-label="Chatbot de ayuda">
  <div id="chatbot-header">Chatbot HÃ¡bitos Saludables</div>
  <div id="chatbot-messages"></div>
  <div id="chatbot-input-container">
    <input type="text" id="chatbot-input" placeholder="Escribe tu pregunta..." aria-label="Mensaje de chat" />
    <button id="chatbot-send" aria-label="Enviar mensaje">Enviar</button>
  </div>
</div>

<footer>
  <p>Danna Karen Bravo SÃ¡nchez y Fanny Borbonio Cano.</p>
</footer>

<script>
  const toggleBtn = document.getElementById('chatbot-toggle');
  const chatbot = document.getElementById('chatbot');
  const sendBtn = document.getElementById('chatbot-send');
  const input = document.getElementById('chatbot-input');
  const messages = document.getElementById('chatbot-messages');

  toggleBtn.addEventListener('click', () => {
    chatbot.style.display = chatbot.style.display === 'flex' ? 'none' : 'flex';
    input.focus();
  });

  function normalize(text) {
    const from = "ÃÃ‰ÃÃ“ÃšÃ¡Ã©Ã­Ã³ÃºÃ‘Ã±";
    const to = "AEIOUaeiounn";
    return text.toLowerCase().split("").map(c => from.indexOf(c) !== -1 ? to[from.indexOf(c)] : c).join("");
  }

  const qaPairs = [
    {
      questions: ["como puedo mejorar mi alimentacion", "que debo comer para estar sano", "que alimentos son buenos para mi", "como mejoro mi alimentacion"],
      answer: "Â¡Hola! Para mejorar tu alimentaciÃ³n, te recomiendo incluir mÃ¡s frutas, verduras y cereales integrales. Bebe suficiente agua y evita alimentos procesados o con mucho azÃºcar."
    },
    {
      questions: ["cuanto ejercicio debo hacer", "que ejercicio es recomendable", "cuanto debo moverme", "que actividades fisicas son buenas"],
      answer: "Lo ideal es realizar al menos 30 minutos de actividad fÃ­sica al dÃ­a. Puedes caminar, correr, hacer yoga o nadar, segÃºn tu edad y condiciÃ³n fÃ­sica."
    }
  ];

  function speak(text) {
    if ('speechSynthesis' in window) {
      const utter = new SpeechSynthesisUtterance(text);
      utter.lang = 'es-MX';
      speechSynthesis.speak(utter);
    }
  }

  sendBtn.addEventListener('click', () => {
    const userInput = input.value.trim();
    if (!userInput) return;
    const userMsg = document.createElement('div');
    userMsg.textContent = "ðŸ‘¤ " + userInput;
    messages.appendChild(userMsg);

    const normalized = normalize(userInput);
    let found = false;
    for (const pair of qaPairs) {
      if (pair.questions.some(q => normalize(q) === normalized)) {
        const botMsg = document.createElement('div');
        botMsg.textContent = "ðŸ¤– " + pair.answer;
        messages.appendChild(botMsg);
        speak(pair.answer);
        found = true;
        break;
      }
    }

    if (!found) {
      const fallback = "Lo siento, aÃºn estoy aprendiendo y no entendÃ­ tu pregunta. Â¿Puedes intentarlo de otra forma?";
      const botMsg = document.createElement('div');
      botMsg.textContent = "ðŸ¤– " + fallback;
      messages.appendChild(botMsg);
      speak(fallback);
    }

    input.value = "";
    messages.scrollTop = messages.scrollHeight;
  });

  input.addEventListener("keypress", function (e) {
    if (e.key === "Enter") sendBtn.click();
  });
</script>

</body>
</html>
